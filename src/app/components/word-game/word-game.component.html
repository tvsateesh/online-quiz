<div class="game-page-container">
  <div class="game-page-wrapper">
    
    <div class="game-content-card">
      
      <!-- Difficulty Level Selection -->
      <div class="difficulty-selection">
        <label class="difficulty-label">Difficulty Level:</label>
        <div class="difficulty-buttons">
          <button class="difficulty-btn" 
                  [class.active]="difficulty === 'easy'"
                  (click)="setDifficulty('easy')">
            <i class="fa fa-leaf"></i> Easy
          </button>
          <button class="difficulty-btn" 
                  [class.active]="difficulty === 'medium'"
                  (click)="setDifficulty('medium')">
            <i class="fa fa-star"></i> Medium
          </button>
          <button class="difficulty-btn" 
                  [class.active]="difficulty === 'hard'"
                  (click)="setDifficulty('hard')">
            <i class="fa fa-fire"></i> Hard
          </button>
        </div>
      </div>

      <!-- Main Game Layout with Controls on Right -->
      <div class="game-layout">
        
        <!-- Left Side: Game Area -->
        <div class="game-left-section">
          <!-- Word Game Area -->
          <div class="word-game-area" *ngIf="word">
            
            <!-- Scrambled Letters Section - Hide when all letters used -->
            <div class="word-section" *ngIf="letters.length > 0">
              <div class="section-header">
                <i class="fa fa-puzzle-piece"></i>
                <h3>Available Letters</h3>
              </div>
              <div class="letters-container">
                <div class="letter-tile clickable" 
                     *ngFor="let letter of letters; let idx = index"
                     (click)="addLetterToAnswer(letter, idx)">
                  <span>{{letter}}</span>
                </div>
              </div>
              <p class="zone-hint">
                <i class="fa fa-hand-pointer-o"></i>
                Click letters to add them to your answer
              </p>
            </div>
            
            <!-- Arrow Indicator - Show only when letters available -->
            <div class="arrow-indicator" *ngIf="letters.length > 0">
              <i class="fa fa-arrow-down"></i>
            </div>

            <!-- Solution Area -->
            <div class="word-section solution-section">
              <div class="section-header">
                <i class="fa fa-lightbulb-o"></i>
                <h3>Your Answer</h3>
              </div>
              <div class="answer-slots">
                <div class="answer-slot" *ngFor="let letter of solvedWord; let i = index">
                  <div class="letter-tile solved clickable" 
                       *ngIf="letter !== ''"
                       (click)="removeLetterFromAnswer(i)">
                    <span>{{letter}}</span>
                  </div>
                  <div class="empty-slot-box" *ngIf="letter === ''">
                    <span class="slot-number">{{i + 1}}</span>
                  </div>
                </div>
              </div>
              <p class="zone-hint">
                <i class="fa fa-lightbulb-o"></i>
                Click a letter to remove it
              </p>
            </div>
            
            <!-- Success Message -->
            <div class="alert-message alert-success" *ngIf="solved">
              <i class="fa fa-trophy"></i>
              <div class="message-content">
                <strong>Excellent! The word is: {{word}}</strong>
                <p class="word-definition" *ngIf="getDescription()">{{getDescription()}}</p>
              </div>
            </div>
        
        <!-- Error Message -->
        <div class="alert-message alert-danger" *ngIf="errorMsg">
          <i class="fa fa-times-circle"></i>
          <span>{{errorMsg}}</span>
        </div>
          </div>

          <!-- Loading/Initial State -->
          <div class="word-game-area" *ngIf="!word">
            <div class="info-card" style="max-width: 500px; margin: 40px auto;">
              <i class="fa fa-info-circle"></i>
              <h3>Get Started</h3>
              <p>Click the "New Word" button on the right to start playing!</p>
            </div>
          </div>
        </div>

        <!-- Right Side: Game Controls -->
        <div class="game-right-section">
          <!-- Controls Panel -->
          <div class="controls-panel">
            <h4 class="controls-title">Controls</h4>
            
            <!-- Game Buttons -->
            <div class="game-controls">
              <button class="game-btn game-btn-primary" (click)="getWord()">
                <i class="fa fa-refresh"></i> New Word
              </button>
              <button class="game-btn game-btn-success" (click)="verifySolvedWord()" [disabled]="answerRevealed">
                <i class="fa fa-check"></i> Check Answer
              </button>
              <button class="game-btn game-btn-secondary" (click)="resetLetters()" [disabled]="answerRevealed">
                <i class="fa fa-undo"></i> Reset
              </button>
              <button class="game-btn game-btn-warning" (click)="showAnswer()" [disabled]="answerRevealed || !word">
                <i class="fa fa-lightbulb-o"></i> Show Answer
              </button>
              <button class="game-btn game-btn-info" (click)="toggleHint()" [disabled]="!word">
                <i class="fa fa-info-circle"></i> Hint
              </button>
            </div>
          </div>

          <!-- Hint Display -->
          <div class="hint-container" *ngIf="showHint && word">
            <div class="hint-box">
              <i class="fa fa-lightbulb-o hint-icon"></i>
              <div class="hint-content">
                <p class="hint-label">Meaning:</p>
                <p class="hint-text">{{ wordMeaning }}</p>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- Game Instructions -->
      <div class="game-info">
        <div class="info-card">
          <i class="fa fa-question-circle"></i>
          <h3>How to Play</h3>
          <p>Click letters from the scrambled section to form a valid word. Use the controls on the right to check your answer or get a hint!</p>
        </div>
        <div class="info-card">
          <i class="fa fa-gamepad"></i>
          <h3>Tips</h3>
          <p>Look for common letter patterns and word structures. Click "Hint" to see the meaning of the word!</p>
        </div>
      </div>
      
    </div>
    
  </div>
</div>
